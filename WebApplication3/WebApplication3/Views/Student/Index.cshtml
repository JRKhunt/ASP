@model List<WebApplication3.Models.Student>
@{
    ViewBag.Title = "Index";
}

<link href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet" />
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/js/bootstrap.min.js"></script>

<style>
    .table-bordered {
        border: 2px solid #dee2e6;
    }

        .table-bordered th,
        .table-bordered td {
            border: 1px solid #dee2e6;
        }

    .bg-gradient-custom {
        background: linear-gradient(45deg, #ff6f61, #de6262);
    }

    .form-control-custom {
        background-color: #eaf4fc;
        border: 2px solid #007bff;
    }

    .btn-custom {
        background-color: #ff6f61;
        color: white;
    }

        .btn-custom:hover {
            background-color: #e55a4b;
        }
</style>

<div class="container mt-5">
    <div class="mb-3 text-end">
        <a href="@Url.Action("Registration", "Student")" class="btn btn-primary">Add New Student</a>
    </div>
    <h2 class="text-center mb-4">@ViewBag.Title</h2>

    <!-- Form for filtering students -->
    @using (Html.BeginForm("Index", "Student", FormMethod.Get, new { @class = "form-horizontal" }))
    {
        <div class="mb-4 row">
            <label for="fnameFilter" class="col-sm-3 col-form-label">Filter by First Name:</label>
            <div class="col-sm-9">
                <input type="text" id="fnameFilter" name="fnameFilter" class="form-control form-control-custom" placeholder="Enter First Name" value="@Request.QueryString["fnameFilter"]" />
            </div>
        </div>
        <div class="text-center mb-4">
            <input type="submit" value="Search" class="btn btn-info btn-custom" />
        </div>
    }

    <!-- Form for deleting selected students -->
    @using (Html.BeginForm("DeleteSelected", "Student", FormMethod.Post, new { @class = "form-horizontal" }))
    {
        <table class="table table-bordered table-striped table-hover">
            <thead class="bg-gradient-custom text-white">
                <tr>
                    <th scope="col" class="text-center"><input type="checkbox" id="selectAll" /></th>
                    <th scope="col">ID</th>
                    <th scope="col">First Name</th>
                    <th scope="col">Last Name</th>
                    <th scope="col" colspan="2" class="text-center">Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr class="table-light">
                        <td class="text-center"><input type="checkbox" name="selectedIds" value="@item.Id" /></td>
                        <td>@item.Id</td>
                        <td>@item.fname</td>
                        <td>@item.lname</td>
                        <td class="text-center">
                            @Html.ActionLink("Edit", "Edit", new { id = item.Id }, new { @class = "btn btn-warning btn-sm" })
                        </td>
                        <td class="text-center">
                            @Html.ActionLink("Delete", "Delete", new { id = item.Id }, new { @class = "btn btn-danger btn-sm", onclick = "return confirm('Are you sure you want to delete this item?');" })
                        </td>
                    </tr>
                }
            </tbody>
        </table>
        <div class="text-center">
            <input type="submit" value="Delete Selected" class="btn btn-danger btn-custom" />
        </div>
    }
</div>
